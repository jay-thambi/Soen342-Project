{% extends 'base.html' %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<h2>Welcome, {{ current_user.name }}!</h2>

<h3>Offerings</h3>
<p><a href="{{ url_for('admin.create_offering') }}">Create New Offering</a></p>
<table>
    <tr>
        <th>Lesson Type</th>
        <th>Location</th>
        <th>Instructor</th>
        <th>Status</th>
    </tr>
    {% for offering in offerings %}
    <tr>
        <td>{{ offering.lesson_type.name }}</td>
        <td>{{ offering.location.name }}</td>
        <td>{{ offering.instructor.user.name if offering.instructor else 'Unassigned' }}</td>
        <td>{{ offering.status }}</td>
    </tr>
    {% endfor %}
</table>

<h3>Users</h3>
<table>
    <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Role</th>
    </tr>
    {% for user in users %}
    <tr>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.role }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
