{% extends 'base.html' %}

{% block title %}Manage Cities{% endblock %}

{% block content %}
<h2>Cities</h2>
<form method="post">
    {{ form.hidden_tag() }}
    <div>
        {{ form.name.label }}
        {{ form.name(class="form-control") }}
        {% for error in form.name.errors %}
            <span class="error">{{ error }}</span>
        {% endfor %}
    </div>
    <div>
        {{ form.submit(class="btn btn-primary") }}
    </div>
</form>

<h3>Existing Cities</h3>
<ul>
    {% for city in cities %}
        <li>
            {{ city.name }}
            <form method="post" action="{{ url_for('admin.delete_city', city_id=city.id) }}" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this city?');">
                <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
                <button type="submit" class="btn btn-danger btn-sm">Delete</button>
            </form>
        </li>
    {% endfor %}
</ul>
{% endblock %}
